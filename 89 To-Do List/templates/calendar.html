{% extends 'base.html' %}
{% block content %}
  <div class="row sticky-top bg-white">
    <div class="py-5 d-flex align-items-center justify-content-between">
      <h1 class="mx-2">
        {% if not request.args.get('offset') %}
          {{ 'This ' + view.title() }}
        {% else %}
          {% if view == 'month' %}
            {{ (12 if ((today_date.month + request.args.get('offset')|int) % 12) == 0 else (today_date.month + request.args.get('offset')|int) % 12)|to_month_string
            + ' ' + (today_date.year + (today_date.month + request.args.get('offset')|int) // 12)|string}}
          {% elif view == 'year' %}
            {{ (today_date.year + request.args.get('offset')|int)|string }}
          {% endif %}
        {% endif %}
      </h1>
      <div style="font-size: 1.5em;">
        <a class="me-3" href="{{ url_for('calendar', view=view, offset=request.args.get('offset')|int - 1 if request.args.get('offset') else -1) }}"><i class="bi bi-chevron-left"></i></a>
        <a href="{{ url_for('calendar', view=view, offset=request.args.get('offset')|int + 1 if request.args.get('offset') else 1) }}"><i class="bi bi-chevron-right"></i></a>
      </div>
    </div>
    <ul class="btn-group">
      {% for label in ['week', 'month','year'] %}
        <a class="btn btn{{ '' if view == label else '-outline' }}-primary" href="{{ url_for('calendar', view=label) }}">{{ label.title() }}</a>
      {% endfor %}
    </ul>
  </div>
  <turbo-frame id="turboCalendar">
    {% include 'components/list_display.html' %}
  </turbo-frame>
{% endblock %}